!function(t){var a={};function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=a,e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=0)}([function(t,a){var e,n=void 0,l=void 0,s=void 0,r={},o=[],d=[{lat:37.2928,lng:-113.0081},{lat:40.234,lng:-105.6419},{lat:40.371,lng:-105.6419}],c={};function u(){window.scrollTo(0,160);var t=$(this),a=t.data("index"),n=t.data("lat"),l=t.data("lng");$.each(r[a],function(a,e){$(`#trail-${a}`)&&$(`#trail-${a}`).text(e),$(`#trail-${a}`)&&a.startsWith("length")&&($(`#trail-${a}`).prepend("Length: "),$(`#trail-${a}`).append(" mi")),$("#trail-imgMedium").attr("src",t.attr("src")),"green"===$("#trail-difficulty").text()&&($("#trail-difficulty").html('<h5 id="diffCard"><img src="assets/images/diffGreen30.svg" id="difficultyImgLg"></h5>'),$("#trail-difficulty").append('<span id="diffSecondary"><h5>Easier</h5></span>')),"greenBlue"===$("#trail-difficulty").text()&&($("#trail-difficulty").html('<h5 id="diffCard"><img src="assets/images/diffGreenBlue30.svg" id="difficultyImgLg"></h5>'),$("#trail-difficulty").append('<span id="diffSecondary"><h5>Easier/Moderate</h5></span>')),"blue"===$("#trail-difficulty").text()&&($("#trail-difficulty").html('<h5 id="diffCard"><img src="assets/images/diffBlue30.svg" id="difficultyImgLg"></h5>'),$("#trail-difficulty").append('<span id="diffSecondary"><h5>Moderate</h5></span>')),"blueBlack"===$("#trail-difficulty").text()&&($("#trail-difficulty").html('<h5 id="diffCard"><img src="assets/images/diffBlueBlack30.svg" id="difficultyImgLg"></h5>'),$("#trail-difficulty").append('<span id="diffSecondary"><h5>Moderate/Hard</h5></span>')),"black"===$("#trail-difficulty").text()&&($("#trail-difficulty").html('<h5 id="diffCard"><img src="assets/images/diffBlack30.svg" id="difficultyImgLg"></h5>'),$("#trail-difficulty").append('<span id="diffSecondary"><h5>Hard</h5></span>')),"dblack"===$("#trail-difficulty").text()&&($("#trail-difficulty").html('<h5 id="diffCard"><img src="assets/images/diffBlack30.svg" id="difficultyImgLg"></h5>'),$("#trail-difficulty").append('<span id="diffSecondary"><h5>Hard</h5></span>'))}),function(t,a){var e="https://api.inaturalist.org/v1/observations/species_counts?photos=true&radius=20&lat="+t+"&lng="+a,i="https://api.inaturalist.org/v1/observations/histogram?lat="+t+"&lng="+a+"&radius=20&date_field=observed&interval=month_of_year";$.ajax({url:e,method:"GET"}).done(function(t){var a=(o=t.results)[0].taxon.default_photo.medium_url,e=o[0].taxon.default_photo.url,i=o[0].count,n=o[0].taxon.name,l=o[0].taxon.preferred_common_name;$("#wild-img").attr("src",a),$("#wild-img").data("index",0),$("#wild-link").attr("href",e),$("#count").text(i),$("#taxon").text(n),$("#name").text(l),$("#right").on("click",function(){var t=$("#wild-img").data("index");if(t<o.length){var a=o[++t].taxon.default_photo.medium_url,e=o[t].taxon.default_photo.url,i=o[t].count,n=o[t].taxon.name,l=o[t].taxon.preferred_common_name;$("#wild-img").attr("src",a),$("#wild-img").data("index",t),$("#wild-link").attr("href",e),$("#count").text(i),$("#taxon").text(n),$("#name").text(l)}}),$("#left").on("click",function(){var t=$("#wild-img").data("index");if(t>0){var a=o[--t].taxon.default_photo.medium_url,e=o[t].taxon.default_photo.url,i=o[t].count,n=o[t].taxon.name,l=o[t].taxon.preferred_common_name;$("#wild-img").attr("src",a),$("#wild-img").data("index",t),$("#wild-link").attr("href",e),$("#count").text(i),$("#taxon").text(n),$("#name").text(l)}})}),$.ajax({url:i,method:"GET"}).done(function(t){var a=t.results.month_of_year,e=[];$.each(a,function(t,a){e.push(a)}),function(t){new Chartist.Bar(".ct-chart",{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:t},{distributeSeries:!0})}(e)})}(n,l),function(t,a){var e,n="https://api.openweathermap.org/data/2.5/weather?lat="+t+"&lon="+a+"&units=imperial&appid="+s;$.ajax({url:n,method:"GET"}).done(function(t){for(e=t.weather[0].description,$("#currentTempId").html(t.main.temp+"Â°F"),e=e.split(" "),i=0;i<=e.length-1;i++)"clear"==e[i]?$(".icon").css("background-position","505px -10px"):"overcast"==e[i]||"clouds"==e[i]||"cloudy"==e[i]?$(".icon").css("background-position","505px -86px"):"rain"!=e[i]&&"rainy"!=e[i]||$(".icon").css("background-position","220px -158px")})}(n,l),e.flyTo({center:[l,n]})}$(document).ready(function(){var t,a,i,l,s;console.log(Object({NODE_ENV:void 0,keyMaps:void 0,keyTrails:void 0,keyWeather:void 0})),t=Math.floor(Math.random()*d.length),a=d[t].lat,i=d[t].lng,p(a,i),function(t,a){mapboxgl.accessToken="pk.eyJ1IjoidHJpc3RhbmJoIiwiYSI6ImNqYmM5N20zbTFneWQzMm1yOTMzdnhwbjkifQ.LsCkehEVMnMWOEui5tZDCw",e=new mapboxgl.Map({container:"map",center:[a,t],zoom:15,style:"mapbox://styles/tristanbh/cjbc99ak070r02smphdl75h5i"})}(a,i),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var a={lat:t.coords.latitude,lng:t.coords.longitude},e=new google.maps.Circle({center:a,radius:t.coords.accuracy});l=a.lat,s=a.lng,autocomplete.setBounds(e.getBounds()),p(l,s)}),$("#address-submit").on("click",function(){!function(t){event.preventDefault();var a="https://maps.googleapis.com/maps/api/geocode/json?key=";a+=n+"&address="+t,$.ajax({url:a,method:"GET"}).done(function(t){var a=t.status;if("OK"===a){var e=t.results[0],i=e.place_id,n=e.formatted_address,l=e.geometry.location,s=l.lat,r=l.lng;({lat:s,lng:r,place_id:i,address:n}),p(s,r)}else alert("Geocode unsuccessful.")})}($("#address-input").val().trim())}),$(".search-results").on("click","img",u),$("body").on("click",".directionButtonClass",function(t){$(this).attr("data-lat"),$(this).attr("data-lng");var a=$(this).attr("data-name"),e=new URL("https://www.google.com/maps/dir/?api=1"+("&destination="+a));window.open(e,"_blank")})});0===firebase.apps.length&&firebase.initializeApp({apiKey:"AIzaSyDgCGQByTB-VEChXM6Dssa_Xir_EcGJHJA",authDomain:"class-project-trails-api.firebaseapp.com",databaseURL:"https://class-project-trails-api.firebaseio.com",projectId:"class-project-trails-api",storageBucket:"class-project-trails-api.appspot.com",messagingSenderId:"334324080267"});var f=firebase.database();function m(t){t.preventDefault();var a=$(this).data("index"),e={name:r[a].name,site:r[a].url};f.ref().push(e)}function p(t,a){var e="https://www.hikingproject.com/data/get-trails?key=",n="&maxDistance=10",s=$("#source");"10 Miles"===s.val()&&(n="&maxDistance=10"),"20 Miles"===s.val()&&(n="&maxDistance=20"),"30 Miles"===s.val()&&(n="&maxDistance=30"),"40 Miles"===s.val()&&(n="&maxDistance=40"),"50 Miles"===s.val()&&(n="&maxDistance=50"),"60 Miles"===s.val()&&(n="&maxDistance=60"),"70 Miles"===s.val()&&(n="&maxDistance=70"),"80 Miles"===s.val()&&(n="&maxDistance=80"),"90 Miles"===s.val()&&(n="&maxDistance=90"),"100 Miles"===s.val()&&(n="&maxDistance=100"),e+=l+"&lat="+t+"&lon="+a+n+"&maxResults=50/",$.ajax({url:e,method:"GET"}).done(function(t){var a,e;1===t.success?(r=t.trails,a="trails",e=r,localStorage.setItem(a,JSON.stringify(e)),function(){for($("#resultList").empty(),i=0;i<r.length;i++){var t=$("<div>"),a=$("<img>"),e=$('<div class="name">'),n=$('<div class="length">'),l=$('<div class="difficulty">'),s=$("<button>"),o=$("<button>");t.addClass("imgDiv col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3"),a.attr("src",r[i].imgMedium),a.attr("alt",r[i].name),a.data("index",i),e.text(r[i].name),n.text(r[i].length+" mi"),l.text(r[i].difficulty),s.text("Get Directions"),s.addClass("directionButtonClass"),s.attr("data-lat",r[i].latitude),s.attr("data-lng",r[i].longitude),s.attr("data-name",r[i].name),o.text("Favorite"),o.addClass("favorite-button"),o.data("index",i),o.on("click",m),a.data("lat",r[i].latitude),a.data("lng",r[i].longitude),""===a.attr("src")&&a.attr("src","assets/images/random-image.jpg"),"green"===l.text()&&l.html('<h5><img src="assets/images/diffGreen30.svg" id="difficultyImg"></h5>'),"greenBlue"===l.text()&&l.html('<h5><img src="assets/images/diffGreenBlue30.svg" id="difficultyImg"></h5>'),"blue"===l.text()&&l.html('<h5><img src="assets/images/diffBlue30.svg" id="difficultyImg"></h5>'),"blueBlack"===l.text()&&l.html('<h5><img src="assets/images/diffBlueBlack30.svg" id="difficultyImg"></h5>'),"black"===l.text()&&l.html('<h5><img src="assets/images/diffBlack30.svg" id="difficultyImg"></h5>'),"dblack"===l.text()&&l.html('<h5><img src="assets/images/diffBlack30.svg" id="difficultyImg"></h5>'),t.append(a),t.append(e),t.append(n),t.append(l),t.append(s),t.append(o),$("#resultList").append(t)}$(".search-results img").first().click()}()):alert("Trails query unsuccessful.")})}function g(){var t=autocomplete.getPlace();for(var a in c)document.getElementById(a).value="",document.getElementById(a).disabled=!0;for(var e=0;e<t.address_components.length;e++){var i=t.address_components[e].types[0];if(c[i]){var n=t.address_components[e][c[i]];document.getElementById(i).value=n}}}f.ref().on("value",function(t){var a=t.val(),e=[];for(var i in a)a.hasOwnProperty(i)&&(name=a[i].name,url=a[i].site,e.push({name:name,key:i,url:url}));!function(t){for(var a="",e=0;e<t.length;e++)a+="<li data-key="+t[e].key+"><a href="+t[e].url+">"+t[e].name+"</a> "+(i=t[e].key,t[e].name,n=void 0,n="",n+='<a class="button" href="javascript:del(\''+i+"')\">[Delete]</button>")+"</li>";var i,n;document.getElementById("favorite-list").innerHTML=a}(e)}),window.initAutocomplete=function(){return autocomplete=new google.maps.places.Autocomplete(document.getElementById("address-input"),{types:["geocode"]}),autocomplete.addListener("place_changed",g),autocomplete}}]);